@startuml
title Процесс "Администрирование системы"

start

partition "Администратор" {
  :Авторизоваться в системе;
}

partition "Система" {
  :Проверить, что роль = Администратор;
  if (Роль Администратора\nподтверждена?) then (Да)
    :Показать панель\nадминистрирования;
  else (Нет)
    :Отказать в доступе\nк функциям администрирования;
    stop
  endif
}

' Основное мено администрирования
partition "Администратор" {
  while (Нужно выполнить\nадминистративное действие?) is (Да)
    :Выбрать действие:
    - Управление учетными записями
    - Управление ролями
    - Управление правами доступа;
    
    if (Управление учетными\nзаписями?) then (Да)
      :Выбрать операцию:
      - Создать пользователя
      - Заблокировать
      - Удалить;
      if (Создать пользователя?) then (Да)
        :Ввести логин, ФИО,\nосновную роль и статус;
        partition "Система" {
          :Создать учетную запись;
          :Назначить базовую роль;
        }
      endif
      if (Заблокировать пользователя?) then (Да)
        :Выбрать учетную запись;
        partition "Система" {
          :Изменить статус\nна "Заблокирован";
        }
      endif
      if (Удалить пользователя?) then (Да)
        :Выбрать учетную запись;
        partition "Система" {
          :Пометить учетную запись\nкак удаленную или удалить\n(с учетом политики хранения);
        }
      endif
    endif

    if (Управление ролями?) then (Да)
      :Выбрать пользователя;
      :Назначить / изменить роли
      (Администратор, Руководитель,\nИсполнитель, Работник склада);
      partition "Система" {
        :Обновить роли пользователя;
      }
    endif

    if (Управление правами\nдоступа (базово)?) then (Да)
      :Открыть настройки прав\nпо ролям/функциям;
      :При необходимости скорректировать\nдоступ к отдельным функциям
      (модули, отчеты и т.п.);
      partition "Система" {
        :Сохранить конфигурацию\nправ доступа;
      }
    endif
  endwhile (Нет)
}

stop
@enduml